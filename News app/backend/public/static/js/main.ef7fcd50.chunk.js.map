{"version":3,"sources":["shared/components/FormElements/Select/Select.module.css","assets/home.png","shared/hooks/auth-hook.js","shared/context/auth-context.js","shared/components/UIElements/Card/Card.js","shared/components/FormElements/Button.js","shared/components/UIElements/Backdrop/Backdrop.js","shared/components/UIElements/Modal/Modal.js","shared/hooks/http-hook.js","shared/components/UIElements/Error/ErrorModal.js","shared/components/UIElements/Loading/LoadingSpinner.js","shared/components/UIElements/Avatar/Avatar.js","shared/components/UIElements/Map/Map.js","posts/components/PostItem.js","posts/components/PostList.js","posts/components/AdminPostItem.js","shared/components/FormElements/Select/Select.js","posts/pages/AllPosts.js","users/components/UsersItem.js","users/pages/Profile.js","posts/pages/UserPosts.js","shared/components/Utils/validators.js","shared/components/FormElements/Input/Input.js","shared/hooks/form-hook.js","posts/pages/NewPost.js","posts/pages/UpdatePost.js","users/pages/UpdateUser.js","posts/pages/NewAdminPost.js","posts/pages/UpdateAdminPost.js","users/pages/Auth.js","shared/components/navigation/MainHeader.js","shared/components/navigation/NavLinks.js","shared/components/navigation/SideDrawer.js","shared/components/navigation/MainNavigation.js","users/components/UsersList.js","users/pages/Users.js","users/pages/Review.js","posts/pages/Stats.js","App.js","index.js"],"names":["module","exports","logoutTimer","AuthContext","createContext","isLoggedIn","isAdmin","userId","token","login","logout","Card","props","className","style","children","Button","href","size","inverse","danger","to","exact","type","onClick","disabled","Backdrop","ReactDOM","createPortal","document","getElementById","ModalOverlay","content","headerClass","header","onSubmit","event","preventDefault","contentClass","footerClass","footer","Modal","Fragment","show","onCancel","CSSTransition","in","timeout","mountOnEnter","unmountOnExit","classNames","useHttpClient","useState","isLoading","setIsLoading","error","setError","activeHttpRequests","useRef","sendRequest","useCallback","url","a","method","body","headers","httpAbortController","AbortController","current","push","fetch","signal","response","json","data","filter","req","ok","Error","message","useEffect","forEach","abortCtrl","abort","clearError","ErrorModal","onClear","LoadingSpinner","asOverlay","Avatar","src","image","alt","width","height","Map","mapRef","center","zoom","window","ol","target","id","layers","layer","Tile","source","OSM","view","View","proj","fromLonLat","lng","lat","ref","PostItem","auth","useContext","showMap","setShowMap","showConfirm","setShowConfirm","history","useHistory","closeMapHandler","closeConfirmHandler","confirmDeleteHandler","process","Authorization","go","address","coordinate","creatorId","creatorImage","creatorName","category","title","description","whatsAppURL","location","open","PostList","items","map","place","key","creator","name","AdminPostItem","Select","css","container","onChange","e","value","item","option","label","AllPosts","setFilter","titleSearch","setTitleSearch","loadedPosts","setLoadedPosts","loadedAdminPost","setLoadedAdminPost","loadedExchange","setLoadedExchange","posts","fetchAdminPost","fetchPosts","Object","entries","rates","console","log","onInput","p","includes","o","UsersItem","email","postCount","Profile","userData","setUserData","useParams","user","fetchUserData","length","UserPosts","fetchPlaces","onDelete","deletedId","prevP","post","VALIDATOR_MINLENGTH","val","validate","validators","isValid","validator","trim","test","inputReducer","state","action","isTouched","Input","useReducer","initialValue","initialIsValid","inputState","dispatch","changeHandler","touchHandler","element","placeholder","onBlur","rows","htmlFor","errorText","formReducer","fromIsValid","inputId","inputs","formIsValid","useForm","initInputs","initialFormValidity","formState","inputData","formValidity","NewPost","inputChangeHandler","placeSubmitHandler","JSON","stringify","UpdatePost","loadedPost","setLoadedPost","postId","inputHandler","setFormData","placeUpdateSubmitHandler","fetchPost","UpdateUser","loadedUser","setLoadedUser","fetchUser","NewAdminPost","UpdateAdminPost","Auth","isLogin","setIsLogin","password","authSubmitHandler","undefined","prevMode","MainHeader","NavLinks","SideDrawer","MainNavigation","drawerIsOpen","setDrawerIsOpen","closeDrawer","HoneIcon","UsersList","Users","loadedUsers","setLoadedUsers","users","u","fetchUsers","Review","reviewSubmitHandler","Stats","userRating","sport","politic","economic","culture","App","routes","setToken","tokenExpirationDate","setTokenExpirationDate","setUserId","setIsAdmin","localStorage","removeItem","uid","expirationDate","tokenExpiration","Date","getTime","setItem","expiration","toISOString","storedData","parse","getItem","timeLeft","setTimeout","clearTimeout","useAuth","path","useOpenWeather","lon","lang","unit","errorMessage","Provider","locationLabel","unitsLabels","temperature","windSpeed","showForecast","render"],"mappings":"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","file":"static/js/main.ef7fcd50.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Select_container__3fMTk\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAABmJLR0QA/wD/AP+gvaeTAAABpElEQVRoge3XsWvUYBzG8Y9yKIJVEXQoDjd2EVzsJDgIgpubbnVydtM/wdWxq5MgiCCO4mBBKAguLuLiIqIUWpCj2FodLm/PxrSXq7nkZ32/8EzJvXm+5PJ7EzK16ONlkX7HXfbNNazgZ5FVXO+00YQcwl38MJJI2cJ9HO6sXU1O4Ik/Bcp5jtMddRzLBXwwXiLlIy6W1tjt3NZYwGCPIrtlUPw2cQffK86bOkfxYB8C5TzEsWLNS/jUpsg5vG5AIuWN0Yg+gxdtiFzG5wYlUr7ianGNnuGE25qGQBqtm1OQSNnEveJacKNpiRk8nqJAOc9wqmmJObxrUSLlPc43JXET3zqQSBng1t8IpIetK4FyFnFkUomzdo6/KFnCbF2Jqg0pUr7gyjiJ26pfEaJlw3AbSCN6m+N4FKDgpHmKk7+LLBcH1gKUq5vUdZnRB84G3mK+fKsCM2/4frZOxX/M0PJfYEf38J+cdcki0cgi0cgi0eg1vF7VvrQXje1ZB+aOZJFoZJFoZJFoZJFoZJFoZJFoZJFoHGiRpdZbTM6rrgtk/ht+AZJi8ybhOtGyAAAAAElFTkSuQmCC\"","import {useCallback, useEffect, useState} from \"react\";\r\nlet logoutTimer;\r\n\r\nexport const useAuth = () => {\r\n    const [token, setToken] = useState(null);\r\n    const [tokenExpirationDate, setTokenExpirationDate] = useState(null);\r\n    const [userId, setUserId] = useState(null)\r\n    const [isAdmin, setIsAdmin] = useState(false)\r\n\r\n\r\n    const logout = useCallback(() => {\r\n        setToken(null);\r\n        setTokenExpirationDate(null)\r\n        setUserId(null)\r\n        setIsAdmin(false)\r\n        localStorage.removeItem('userData')\r\n    }, [])\r\n\r\n\r\n    const login = useCallback((uid, token,  isAdmin, expirationDate) => {\r\n        setToken(token);\r\n        setUserId(uid);\r\n        setIsAdmin(isAdmin)\r\n        const tokenExpiration = expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\r\n        setTokenExpirationDate(tokenExpiration)\r\n        localStorage.setItem('userData',\r\n            JSON.stringify({\r\n                userId: uid,\r\n                token: token,\r\n                isAdmin: isAdmin,\r\n                expiration: tokenExpiration.toISOString()\r\n            }))\r\n\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const storedData = JSON.parse(localStorage.getItem('userData'));\r\n        if (storedData &&\r\n            storedData.token &&\r\n            new Date(storedData.expiration) > new Date()) {\r\n            login(storedData.userId, storedData.token, storedData.isAdmin, new Date(storedData.expiration))\r\n        }\r\n    }, [login])\r\n\r\n    useEffect(() => {\r\n        if (token && tokenExpirationDate) {\r\n            const timeLeft = tokenExpirationDate.getTime() - new Date().getTime()\r\n            logoutTimer = setTimeout(logout, timeLeft)\r\n        } else {\r\n            clearTimeout(logoutTimer)\r\n        }\r\n    }, [token, logout, tokenExpirationDate])\r\n\r\n    return {token, login, logout, userId, isAdmin}\r\n}","import {createContext} from \"react\";\r\n\r\nexport const AuthContext = createContext({\r\n    isLoggedIn : false,\r\n    isAdmin: false,\r\n    userId: null,\r\n    token: null,\r\n    login: () => {},\r\n    logout: () => {}\r\n});\r\n\r\n","import React from 'react';\r\nimport './Card.css';\r\n\r\nconst Card = props => {\r\n  return (\r\n    <div className={`card ${props.className}`} style={props.style}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './Button.css';\r\n\r\nconst Button = props => {\r\n  if (props.href) {\r\n    return (\r\n      <a\r\n        className={`button button--${props.size || 'default'} ${props.inverse &&\r\n          'button--inverse'} ${props.danger && 'button--danger'}`}\r\n        href={props.href}\r\n      >\r\n        {props.children}\r\n      </a>\r\n    );\r\n  }\r\n  if (props.to) {\r\n    return (\r\n      <Link\r\n        to={props.to}\r\n        exact={props.exact}\r\n        className={`button button--${props.size || 'default'} ${props.inverse &&\r\n          'button--inverse'} ${props.danger && 'button--danger'}`}\r\n      >\r\n        {props.children}\r\n      </Link>\r\n    );\r\n  }\r\n  return (\r\n    <button\r\n      className={`button button--${props.size || 'default'} ${props.inverse &&\r\n        'button--inverse'} ${props.danger && 'button--danger'}`}\r\n      type={props.type}\r\n      onClick={props.onClick}\r\n      disabled={props.disabled}\r\n    >\r\n      {props.children}\r\n    </button>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport './Backdrop.css';\r\n\r\nconst Backdrop = props => {\r\n  return ReactDOM.createPortal(\r\n    <div className=\"backdrop\" onClick={props.onClick}/>,\r\n    document.getElementById('backdrop-hook')\r\n  );\r\n};\r\n\r\nexport default Backdrop;\r\n","import React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport {CSSTransition} from \"react-transition-group\";\r\nimport Backdrop from \"../Backdrop/Backdrop\";\r\nimport './Modal.css';\r\n\r\n\r\nconst ModalOverlay = props => {\r\n    const content = (\r\n        <div className={`modal ${props.className}`} style={props.style}>\r\n            <header className={`modal-header ${props.headerClass}`}>\r\n                <h2>{props.header}</h2>\r\n            </header>\r\n            <form onSubmit={\r\n                props.onSubmit ? props.onSubmit : event => event.preventDefault()\r\n            }>\r\n            <div className={`modal-content ${props.contentClass}`}>\r\n                {props.children}\r\n            </div>\r\n                <footer className={`modal-footer ${props.footerClass}`}>\r\n                    {props.footer}\r\n                </footer>\r\n            </form>\r\n        </div>\r\n    )\r\n    return ReactDOM.createPortal(content, document.getElementById('modal-hook'))\r\n};\r\n\r\nconst Modal = props => {\r\n    return <React.Fragment>\r\n        {props.show && <Backdrop onClick={props.onCancel} />}\r\n        <CSSTransition\r\n            in={props.show}\r\n            timeout={200}\r\n            mountOnEnter\r\n            unmountOnExit\r\n            classNames=\"modal\"\r\n        >\r\n            <ModalOverlay {...props}/>\r\n        </CSSTransition>\r\n    </React.Fragment>\r\n};\r\n\r\nexport default Modal;","import {useCallback, useRef, useState, useEffect} from \"react\";\r\n\r\n\r\nexport const useHttpClient = () => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState();\r\n\r\n    const activeHttpRequests = useRef([]);\r\n\r\n    const sendRequest = useCallback(async (\r\n        url, method = 'GET', body = null, headers = {}) => {\r\n        setIsLoading(true)\r\n\r\n        const httpAbortController = new AbortController();\r\n        activeHttpRequests.current.push(httpAbortController);\r\n\r\n        try {\r\n            const response = await fetch(url, {\r\n                method,\r\n                body,\r\n                headers,\r\n                signal: httpAbortController.signal\r\n            })\r\n\r\n            const data = await response.json();\r\n\r\n            activeHttpRequests.current = activeHttpRequests.current.filter(\r\n                req =>  req !== httpAbortController\r\n            );\r\n\r\n            if(!response.ok) { // 400 or 500 code\r\n                throw new Error(data.message)\r\n            }\r\n            setIsLoading(false)\r\n            return data;\r\n        }catch (e) {\r\n            setError(e.message);\r\n            setIsLoading(false)\r\n            throw e;\r\n        }\r\n\r\n    }, [])\r\n\r\n    const clearError = () => {\r\n        setError(null)\r\n    }\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            activeHttpRequests.current.forEach(abortCtrl => abortCtrl.abort())\r\n        };\r\n    }, [])\r\n\r\n    return {isLoading, error, sendRequest, clearError}\r\n}","import React from 'react';\r\n\r\nimport Modal from '../Modal/Modal';\r\nimport Button from '../../FormElements/Button';\r\n\r\nconst ErrorModal = props => {\r\n  return (\r\n    <Modal\r\n      onCancel={props.onClear}\r\n      header=\"An Error Occurred!\"\r\n      show={!!props.error}\r\n      footer={<Button onClick={props.onClear}>Okay</Button>}\r\n    >\r\n      <p>{props.error}</p>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ErrorModal;\r\n","import React from 'react';\r\n\r\nimport './LoadingSpinner.css';\r\n\r\nconst LoadingSpinner = props => {\r\n  return (\r\n    <div className={`${props.asOverlay && 'loading-spinner__overlay'}`}>\r\n      <div className=\"lds-dual-ring\"></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoadingSpinner;\r\n","import React from 'react';\r\n\r\nimport './Avatar.css';\r\n\r\nconst Avatar = props => {\r\n  return (\r\n    <div className={`avatar ${props.className}`} style={props.style}>\r\n      <img\r\n        src={props.image}\r\n        alt={props.alt}\r\n        style={{ width: props.width, height: props.width }}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import React, {useEffect} from \"react\";\r\nimport {useRef} from \"react\";\r\n\r\nimport './Map.css';\r\n\r\nconst Map = props => {\r\n    const mapRef = useRef();\r\n    const {center, zoom} = props;\r\n\r\n    useEffect(() => {\r\n        new window.ol.Map({\r\n            target: mapRef.current.id,\r\n            layers: [\r\n                new window.ol.layer.Tile({\r\n                    source: new window.ol.source.OSM()\r\n                })\r\n            ],\r\n            view: new window.ol.View({\r\n                center: window.ol.proj.fromLonLat([center.lng, center.lat]),\r\n                zoom: zoom\r\n            })\r\n        });\r\n    }, [center, zoom]);\r\n\r\n    return (\r\n        <div\r\n            ref={mapRef}\r\n            className={`map ${props.className}`}\r\n            style={props.style}\r\n            id=\"map\">\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Map;","import React, {useState, useContext} from \"react\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport Modal from \"../../shared/components/UIElements/Modal/Modal\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\n\r\n\r\nimport './PostItem.css'\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport Avatar from \"../../shared/components/UIElements/Avatar/Avatar\";\r\nimport {Link, useHistory} from \"react-router-dom\";\r\nimport Map from \"../../shared/components/UIElements/Map/Map\";\r\n\r\n\r\nconst PostItem = props => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n    const [showMap, setShowMap] = useState(false);\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    const history = useHistory();\r\n\r\n    const shareHandler = () => {\r\n        const whatsAppURL = `https://wa.me?text=${window.location.href+'/posts/'+props.id}`;\r\n        window.open(whatsAppURL, '_blank')\r\n    }\r\n\r\n    const openMapHandler = () => setShowMap(true);\r\n    const closeMapHandler = () => setShowMap(false);\r\n    const openConfirmHandler = () => setShowConfirm(true);\r\n    const closeConfirmHandler = () => setShowConfirm(false);\r\n    const confirmDeleteHandler = async () => {\r\n        closeConfirmHandler();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/posts/${props.id}`,\r\n                'DELETE',\r\n                null,\r\n                {Authorization: 'Bearer ' + auth.token}\r\n            )\r\n        }catch (e) {\r\n\r\n        }\r\n        \r\n        finally {\r\n            history.push('/'); // redirect\r\n            history.go(0)\r\n        }\r\n    }\r\n\r\n  \r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n\r\n            <Modal\r\n                show={showMap}\r\n                onCancel={closeMapHandler}\r\n                header={props.address}\r\n                contentClass=\"place-item-modal-content\"\r\n                footerClass=\"place-item-modal-actions\"\r\n                footer={<Button onClick={closeMapHandler}>CLOSE</Button>}>\r\n              <div className=\"map-container\">\r\n                    <Map center={props.coordinate} zoom={16}/>\r\n              </div>\r\n            </Modal>\r\n\r\n            <Modal\r\n                show={showConfirm}\r\n                onCancel={closeConfirmHandler}\r\n                header=\"Delete your place?\"\r\n                contentClass=\"place-item-modal-content\"\r\n                footerClass=\"place-item-modal-actions\"\r\n                footer={\r\n                    <React.Fragment>\r\n                        <Button inverse onClick={closeConfirmHandler}>Cancel</Button>\r\n                        <Button  danger onClick={confirmDeleteHandler}>DELETE</Button>\r\n                    </React.Fragment>\r\n                }>\r\n                <p>Post can't be restored</p>\r\n            </Modal>\r\n\r\n            <li className='place-item'>\r\n                <Card className='place-item-content'>\r\n                    {isLoading && <LoadingSpinner asOverlay/>}\r\n                    <div className='place-item-info'>\r\n                        <div className={\"author-data\"}>\r\n                            <Link to={`/users/${props.creatorId}`}>\r\n                                <div className=\"user-item-image\">\r\n                                    <Avatar image={props.creatorImage} alt={\"\"}/>\r\n                                </div>\r\n                                <div className=\"user-item-info\">\r\n                                    <h3>{props.creatorName}</h3>\r\n                                    <h3>{props.category}</h3>\r\n                                </div>\r\n                            </Link>\r\n                        </div>\r\n                        <h2>{props.title}</h2>\r\n                        <h3>{props.address}</h3>\r\n                        <p>{props.description}</p>\r\n                    </div>\r\n                    <div className='place-item-image'>\r\n                        <img src={props.image} alt={props.title}/>\r\n                    </div>\r\n                    <div className='place-item-actions'>\r\n                        <Button inverse onClick={openMapHandler}>VIEW ON MAP</Button>\r\n                        <Button inverse onClick={shareHandler}>SHARE</Button>\r\n                        {(auth.userId === props.creatorId || auth.isAdmin) && <Button danger onClick={openConfirmHandler}>DELETE</Button>}\r\n                        {auth.userId === props.creatorId &&  <Button to={`/posts/${props.id}`}>EDIT</Button>}\r\n                    </div>\r\n                </Card>\r\n            </li>\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default PostItem;","import React from \"react\";\r\n\r\nimport './PostList.css'\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport PostItem from \"./PostItem\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\n\r\nconst PostList = props => {\r\n    return <ul className=\"place-list\">\r\n        {props.items.map(place => {\r\n            return <PostItem\r\n                key={place.id}\r\n                id={place.id}\r\n                image={place.image}\r\n                title={place.title}\r\n                description={place.description}\r\n                address={place.address}\r\n                category={place.category}\r\n                creatorId={place.creator.id}\r\n                creatorName={place.creator.name}\r\n                creatorImage={place.creator.image}\r\n                coordinate={place.location}\r\n                />\r\n        })}\r\n    </ul>\r\n}\r\n\r\nexport default PostList;","import React, {useState, useContext} from \"react\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport Modal from \"../../shared/components/UIElements/Modal/Modal\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nimport './PostItem.css'\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\n\r\n\r\nconst AdminPostItem = props => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const auth = useContext(AuthContext);\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n\r\n    const history = useHistory();\r\n    const openConfirmHandler = () => setShowConfirm(true);\r\n    const closeConfirmHandler = () => setShowConfirm(false);\r\n    const confirmDeleteHandler = async () => {\r\n        closeConfirmHandler();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/admin/post/${props.id}`,\r\n                'DELETE',\r\n                null,\r\n                {Authorization: 'Bearer ' + auth.token}\r\n            )\r\n        }catch (e) {\r\n\r\n        }finally {\r\n            history.push('/'); // redirect\r\n            history.go(0)\r\n\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <ErrorModal error={error} onClear={clearError} />\r\n\r\n            <Modal\r\n                show={showConfirm}\r\n                onCancel={closeConfirmHandler}\r\n                header=\"Delete your post?\"\r\n                contentClass=\"place-item-modal-content\"\r\n                footerClass=\"place-item-modal-actions\"\r\n                footer={\r\n                    <React.Fragment>\r\n                        <Button inverse onClick={closeConfirmHandler}>Cancel</Button>\r\n                        <Button  danger onClick={confirmDeleteHandler}>DELETE</Button>\r\n                    </React.Fragment>\r\n                }>\r\n                <p>Post can't be restored</p>\r\n            </Modal>\r\n\r\n                <div className={'admin-post'}>\r\n                    <Card className='place-item-content'>\r\n                        {isLoading && <LoadingSpinner asOverlay/>}\r\n                        <div className='place-item-info'>\r\n                            <h2>{props.title}</h2>\r\n                            <p>{props.description}</p>\r\n                        </div>\r\n                        <div className='place-item-image'>\r\n                            <img src={props.image} alt={props.title}/>\r\n                        </div>\r\n                        <div className='place-item-actions'>\r\n                            {auth.isAdmin &&  <Button to={`/posts/${props.id}`}>EDIT</Button>}\r\n                            {auth.isAdmin && <Button danger onClick={openConfirmHandler}>DELETE</Button>}\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminPostItem;","import React from \"react\";\r\nimport css from \"./Select.module.css\";\r\n\r\nfunction Select(props) {\r\n    return (\r\n        <div className={css.container}>\r\n            <select\r\n                name=\"type\"\r\n                id=\"type\"\r\n                onChange={(e) => props.onChange(e.target.value)}\r\n            >\r\n                place\r\n                {props.items.map((item) => (\r\n                    <option className={css.option} key={item.id} value={item.value}>\r\n                        {item.label}\r\n                    </option>\r\n                ))}\r\n            </select>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Select;\r\n","import React, {useContext, useEffect, useState} from \"react\";\r\nimport PostList from \"../components/PostList\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport AdminPostItem from \"../components/AdminPostItem\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport Select from \"../../shared/components/FormElements/Select/Select\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\n\r\nconst AllPosts = props => {\r\n    const auth = useContext(AuthContext);\r\n    const [filter, setFilter] = useState(\"none\");\r\n    const [titleSearch, setTitleSearch] = useState(\"\");\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [loadedPosts, setLoadedPosts] = useState([]);\r\n    const [loadedAdminPost, setLoadedAdminPost] = useState();\r\n    const [loadedExchange, setLoadedExchange] = useState([]);\r\n\r\n    const inputChangeHandler = (event) => {\r\n        console.log('change ', event.target.value);\r\n        setTitleSearch(event.target.value);\r\n    }\r\n\r\n    const FilterType = [\r\n        { id: 1, label: \"Select Category\", value: \"none\" },\r\n        { id: 2, label: \"Sport\", value: \"sport\" },\r\n        { id: 3, label: \"Politics\", value: \"politics\" },\r\n        { id: 4, label: \"Economics\", value: \"economics\" },\r\n        { id: 5, label: \"Culture\", value: \"culture\" },\r\n    ];\r\n\r\n    const handleFilter = (value) => {\r\n        setFilter(value);\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchAdminPost = async () => {\r\n            try {\r\n                const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/admin/post`);\r\n                setLoadedAdminPost(data.posts[0])\r\n            }catch (e) {\r\n\r\n            }\r\n\r\n        }\r\n        fetchAdminPost();\r\n    }, [sendRequest])\r\n\r\n    useEffect(() => {\r\n        const fetchPosts= async () => {\r\n            try {\r\n                const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/posts`);\r\n                setLoadedPosts(data.posts)\r\n            }catch (e) {\r\n\r\n            }\r\n\r\n        }\r\n        fetchPosts();\r\n    }, [sendRequest])\r\n\r\n    useEffect(() => {\r\n        const fetchPosts= async () => {\r\n            if(auth.token) {\r\n                try {\r\n                    const data = await sendRequest('https://api.exchangerate.host/latest')\r\n                    setLoadedExchange(Object.entries(data.rates));\r\n                }catch (e) {\r\n                    console.log(e)\r\n                }\r\n            }\r\n        }\r\n        fetchPosts();\r\n    }, [sendRequest, auth.token])\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchPosts= async () => {\r\n            if(auth.token) {\r\n                try {\r\n                    const data = await sendRequest('https://api.exchangerate.host/latest')\r\n                    setLoadedExchange(Object.entries(data.rates));\r\n                }catch (e) {\r\n                    console.log(e)\r\n                }\r\n            }\r\n        }\r\n        fetchPosts();\r\n    }, [sendRequest, auth.token])\r\n    \r\n    return <React.Fragment>\r\n        {isLoading && <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>}\r\n\r\n       \r\n        {!isLoading && loadedAdminPost &&\r\n        <AdminPostItem\r\n            id={loadedAdminPost?.id}\r\n            title={loadedAdminPost?.title}\r\n            description={loadedAdminPost?.description}\r\n            image={loadedAdminPost?.image}/>\r\n        }\r\n\r\n\r\n        {!isLoading && loadedPosts &&\r\n        <div className=\"filters\">\r\n            <Select items={FilterType} onChange={handleFilter}/>\r\n            <input\r\n                id=\"title\"\r\n                type='text'\r\n                onInput={inputChangeHandler}/>\r\n        </div>\r\n        }\r\n\r\n\r\n        {!isLoading && loadedPosts &&\r\n             <PostList items={loadedPosts.filter((p)=>{\r\n                 if(filter !== 'none' && titleSearch) {\r\n                     return p.category === filter && p.title.includes(titleSearch);\r\n                 }else if(filter !== 'none' && !titleSearch) {\r\n                     return p.category === filter;\r\n                 }else if(filter === 'none' && titleSearch) {\r\n                     return p.title.includes(titleSearch);\r\n                 }\r\n                 else{\r\n                     return p;\r\n                 }\r\n             })}/>\r\n        }\r\n\r\n        {!isLoading && loadedExchange &&\r\n            <div className={'apiNews'}>\r\n                <ul className=\"app-news-list\">\r\n                    {loadedExchange.map(o => {\r\n                        return <li key={o}>\r\n                            <span>{o[0]}</span>\r\n                            <span>{o[1]}</span>\r\n                        </li>\r\n                    }) }\r\n                </ul>\r\n            </div>\r\n        }\r\n\r\n    </React.Fragment>\r\n\r\n\r\n\r\n}\r\n\r\nexport default AllPosts;","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport Avatar from '../../shared/components/UIElements/Avatar/Avatar';\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport './UserItem.css';\r\n\r\nconst UsersItem = props => {\r\n    return <li className=\"user-item\">\r\n            <Card className=\"user-item-content\">\r\n                <Link to={`/${props.id}/posts`}>\r\n                    <div className=\"user-item-image\">\r\n                        <Avatar image={props.image} alt={props.name}/>\r\n                    </div>\r\n                    <div className=\"user-item-info\">\r\n                        <div>\r\n                            <h2>{props.name}</h2>\r\n                            <h3>{props.email}</h3>\r\n                        </div>\r\n                        <div>\r\n                            <h3>\r\n                                {props.postCount}\r\n                                {props.postCount === 1 ? ' Post' : ' Posts'}\r\n                            </h3>\r\n                        </div>\r\n                    </div>\r\n                </Link>\r\n            </Card>\r\n    </li>\r\n};\r\n\r\nexport default UsersItem;","import React, {useEffect, useState, useContext} from \"react\";\r\nimport {Link, useHistory, useParams} from \"react-router-dom\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport UsersItem from \"../components/UsersItem\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport Modal from \"../../shared/components/UIElements/Modal/Modal\";\r\nimport './Profile.css'\r\n\r\nconst Profile = () => {\r\n    const auth = useContext(AuthContext);\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [userData, setUserData] = useState();\r\n    const [showConfirm, setShowConfirm] = useState(false);\r\n    const history = useHistory();\r\n    const creatorId = useParams().userId;\r\n\r\n    useEffect(()=> {\r\n        let id = auth.userId;\r\n        if(creatorId !== auth.userId) {\r\n            id = creatorId;\r\n        }\r\n        const fetchUserData= async () => {\r\n            try {\r\n                const data = await  sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/${id}`,\r\n                    'GET',\r\n                    null,\r\n                    {Authorization: 'Bearer ' + auth.token});\r\n                setUserData(data.user);\r\n            }catch (e) {\r\n            }\r\n        }\r\n        fetchUserData();\r\n    },[sendRequest])\r\n\r\n\r\n    const openConfirmHandler = () => setShowConfirm(true);\r\n    const closeConfirmHandler = () => setShowConfirm(false);\r\n    const confirmDeleteHandler = async () => {\r\n        closeConfirmHandler();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/${auth.userId}`,\r\n                'DELETE',\r\n                null,\r\n                {Authorization: 'Bearer ' + auth.token}\r\n            )\r\n            auth.logout();\r\n        }catch (e) {\r\n\r\n        }\r\n    }\r\n\r\n    const showPostHandler = () => {\r\n        let id = auth.userId;\r\n        if(creatorId !== auth.userId) {\r\n            id = creatorId;\r\n        }\r\n        history.push(`/${id}/posts`);\r\n    }\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        <Modal\r\n            show={showConfirm}\r\n            onCancel={closeConfirmHandler}\r\n            header=\"Delete your profile?\"\r\n            contentClass=\"place-item-modal-content\"\r\n            footerClass=\"place-item-modal-actions\"\r\n            footer={\r\n                <React.Fragment>\r\n                    <Button inverse onClick={closeConfirmHandler}>Cancel</Button>\r\n                    <Button  danger onClick={confirmDeleteHandler}>DELETE</Button>\r\n                </React.Fragment>\r\n            }>\r\n            <p>Profile can't be restored</p>\r\n        </Modal>\r\n        {isLoading && <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>}\r\n        {!isLoading && userData && <div className={\"user-profile\"}>\r\n            <UsersItem\r\n                key={userData.id}\r\n                id={userData.id}\r\n                image={userData.image}\r\n                name={userData.name}\r\n                email={userData.email}\r\n                postCount={userData.posts.length}/>\r\n            <div className={\"user-profile-controls\"}>\r\n                {auth.isLoggedIn && auth.userId === creatorId && <Button danger onClick={openConfirmHandler}>DELETE PROFILE</Button>}\r\n                {auth.isLoggedIn && <Button inverse onClick={showPostHandler}>SHOW POSTS</Button>}\r\n                {auth.isLoggedIn && <Button to={`/update/${userData.id}`}>EDIT PROFILE</Button>}\r\n            </div>\r\n        </div>}\r\n    </React.Fragment>\r\n}\r\n\r\nexport default Profile;","import React, {useEffect, useState} from \"react\";\r\nimport PostList from \"../components/PostList\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\n\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\n\r\n\r\nconst UserPosts = props => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [loadedPosts, setLoadedPosts] = useState();\r\n    const userId = useParams().userId;\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        const fetchPlaces = async () => {\r\n            try {\r\n                const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/posts/user/${userId}`);\r\n                setLoadedPosts(data.posts)\r\n            }catch (e) {\r\n                history.push('/');\r\n            }\r\n\r\n        }\r\n        fetchPlaces();\r\n    }, [sendRequest, userId])\r\n\r\n    const deleteHandler = (deletedId) => {\r\n        setLoadedPosts(prevP => prevP.filter(post => post.id !== deletedId))\r\n    }\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        {isLoading && <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>}\r\n        {!isLoading && loadedPosts &&\r\n        <PostList items={loadedPosts} onDelete={deleteHandler}/>}\r\n    </React.Fragment>\r\n\r\n\r\n\r\n}\r\n\r\nexport default UserPosts;","const VALIDATOR_TYPE_REQUIRE = 'REQUIRE';\r\nconst VALIDATOR_TYPE_MINLENGTH = 'MINLENGTH';\r\nconst VALIDATOR_TYPE_MAXLENGTH = 'MAXLENGTH';\r\nconst VALIDATOR_TYPE_MIN = 'MIN';\r\nconst VALIDATOR_TYPE_MAX = 'MAX';\r\nconst VALIDATOR_TYPE_EMAIL = 'EMAIL';\r\nconst VALIDATOR_TYPE_FILE = 'FILE';\r\n\r\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\r\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\r\nexport const VALIDATOR_MINLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MINLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MAXLENGTH = val => ({\r\n  type: VALIDATOR_TYPE_MAXLENGTH,\r\n  val: val\r\n});\r\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\r\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\r\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\r\n\r\nexport const validate = (value, validators) => {\r\n  let isValid = true;\r\n  for (const validator of validators) {\r\n    if (validator.type === VALIDATOR_TYPE_REQUIRE) {\r\n      isValid = isValid && value.trim().length > 0;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\r\n      isValid = isValid && value.trim().length >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\r\n      isValid = isValid && value.trim().length <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MIN) {\r\n      isValid = isValid && +value >= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_MAX) {\r\n      isValid = isValid && +value <= validator.val;\r\n    }\r\n    if (validator.type === VALIDATOR_TYPE_EMAIL) {\r\n      isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\r\n    }\r\n  }\r\n  return isValid;\r\n};\r\n","import React, {useEffect, useReducer, useState} from \"react\";\r\nimport {validate} from \"../../Utils/validators\";\r\n\r\n\r\nimport './Input.css';\r\n\r\nconst inputReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case 'CHANGE':\r\n            return {\r\n                ...state,\r\n                value: action.val,\r\n                isValid: validate(action.val, action.validators)\r\n            };\r\n        case 'TOUCH':\r\n            return {\r\n                ...state,\r\n                isTouched : true\r\n            }\r\n\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nconst Input = props => {\r\n    const [inputState, dispatch] = useReducer(inputReducer,\r\n        {\r\n            value: props.initialValue || \"\",\r\n            isValid: props.initialIsValid || \"\",\r\n            isTouched: false\r\n        });\r\n\r\n    const {id, onInput} = props;\r\n    const {value, isValid} = inputState;\r\n\r\n    useEffect(() => {\r\n        props.onInput(id, value, isValid);\r\n    },[id, value, isValid, onInput])\r\n\r\n    const changeHandler = event => {\r\n        dispatch({\r\n            type: 'CHANGE',\r\n            val: event.target.value,\r\n            validators: props.validators\r\n        })\r\n    }\r\n\r\n    const touchHandler =() => {\r\n        dispatch({\r\n            type: 'TOUCH'\r\n        })\r\n    }\r\n\r\n    const element = props.element === 'input' ?\r\n        <input\r\n            id={props.id}\r\n            type={props.type}\r\n            placeholder={props.placeholder}\r\n            onChange={changeHandler}\r\n            onBlur={touchHandler}\r\n            value={inputState.value}/>\r\n\r\n        : <textarea\r\n            id={props.id}\r\n            rows={props.rows || 3}\r\n            onBlur={touchHandler}\r\n            onChange={changeHandler}\r\n            value={inputState.value}/>\r\n\r\n\r\n    return <div className={`form-control ${!inputState.isValid && \r\n    inputState.isTouched && 'form-control-invalid'}`}>\r\n        <label\r\n            htmlFor={props.id}>\r\n            {props.label}\r\n        </label>\r\n        {element}\r\n        {!inputState.isValid && inputState.isTouched && <p>{props.errorText}</p>}\r\n    </div>\r\n}\r\n\r\nexport default Input;","import {useCallback, useReducer} from 'react';\r\n\r\n\r\nconst formReducer = (state,action) => {\r\n    switch (action.type) {\r\n        case  'INPUT_CHANGE':\r\n            let fromIsValid = true;\r\n            for(const inputId in state.inputs) {\r\n\r\n                if(!state.inputs[inputId]) {\r\n                    continue;\r\n                }\r\n\r\n                if(inputId === action.inputId) {\r\n                    fromIsValid = fromIsValid && action.isValid;\r\n                }else{\r\n                    fromIsValid = fromIsValid && state.inputs[inputId].isValid;\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                inputs: {\r\n                    ...state.inputs,\r\n                    [action.inputId] : {value: action.value, isValid: action.isValid}\r\n                },\r\n                isValid: fromIsValid\r\n            };\r\n        case  'SET_DATA':\r\n            return {\r\n                inputs: action.inputs,\r\n                isValid: action.formIsValid\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const useForm = (initInputs, initialFormValidity) => {\r\n    const [formState, dispatch]= useReducer(formReducer, {\r\n        inputs: initInputs,\r\n        isValid: initialFormValidity\r\n    })\r\n\r\n    const inputHandler = useCallback((id, value, isValid) => {\r\n        dispatch({\r\n            type: 'INPUT_CHANGE',\r\n            value: value,\r\n            isValid: isValid,\r\n            inputId: id})\r\n    },[]);\r\n\r\n\r\n    const setFormData = useCallback((inputData, formValidity) => {\r\n        dispatch({\r\n            type : 'SET_DATA',\r\n            inputs: inputData,\r\n            formIsValid: formValidity\r\n        })\r\n    },[])\r\n\r\n    return [formState, inputHandler, setFormData];\r\n\r\n}\r\n\r\n","import React, {useContext, useState} from \"react\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\nimport {VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../shared/components/Utils/validators\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport {useForm} from \"../../shared/hooks/form-hook\";\r\nimport './PostForm.css';\r\nimport Select from \"../../shared/components/FormElements/Select/Select\";\r\n\r\nconst NewPost = () => {\r\n    const [filter, setFilter] = useState(\"none\");\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const auth = useContext(AuthContext)\r\n\r\n    const [formState, inputChangeHandler] = useForm({\r\n        title: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        address: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        image: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n\r\n    },false)\r\n\r\n    const FilterType = [\r\n        { id: 1, label: \"Select Category\", value: \"none\" },\r\n        { id: 2, label: \"Sport\", value: \"sport\" },\r\n        { id: 3, label: \"Politics\", value: \"politics\" },\r\n        { id: 4, label: \"Economics\", value: \"economics\" },\r\n        { id: 5, label: \"Culture\", value: \"culture\" },\r\n    ];\r\n\r\n    const handleFilter = (value) => {\r\n        setFilter(value);\r\n    };\r\n\r\n   const history = useHistory();\r\n\r\n   const placeSubmitHandler = async event => {\r\n       event.preventDefault();\r\n       try {\r\n           await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/posts`,\r\n               'POST',\r\n               JSON.stringify({\r\n                   title: formState.inputs.title.value,\r\n                   description : formState.inputs.description.value,\r\n                   address : formState.inputs.address.value,\r\n                   category: filter,\r\n                   image: formState.inputs.image.value\r\n               }),\r\n               {'Content-Type': 'application/json',\r\n               Authorization: 'Bearer ' + auth.token}\r\n           )\r\n        history.push('/'); // redirect\r\n       }catch (e) {\r\n           \r\n       }\r\n\r\n   }\r\n   \r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        <form className=\"place-form\" onSubmit={placeSubmitHandler}>\r\n            {isLoading && <LoadingSpinner asOverlay/>}\r\n            <Input\r\n                id=\"title\"\r\n                element='input'\r\n                type='text'\r\n                label='Title'\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                onInput={inputChangeHandler}\r\n                errorText=\"Please enter a valid title\"/>\r\n\r\n            <Input\r\n                id=\"description\"\r\n                element='textarea'\r\n                label='Description'\r\n                validators={[VALIDATOR_MINLENGTH(5)]}\r\n                onInput={inputChangeHandler}\r\n                errorText=\"Please enter a valid description.\"/>\r\n\r\n            <Select items={FilterType} onChange={handleFilter} />\r\n\r\n            <Input\r\n                id=\"address\"\r\n                element='input'\r\n                label='Address'\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                onInput={inputChangeHandler}\r\n                errorText=\"Please enter a valid address\"/>\r\n\r\n            <Input\r\n                id=\"image\"\r\n                element='input'\r\n                label='Image'\r\n                validators={[]}\r\n                onInput={inputChangeHandler}\r\n                errorText=\"Please enter a url\"/>\r\n\r\n            <Button type=\"submit\" disabled={!formState.isValid}>ADD PLACE</Button>\r\n        </form>\r\n    </React.Fragment>\r\n\r\n};\r\n\r\nexport default NewPost;","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport {VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../shared/components/Utils/validators\";\r\nimport {useForm} from \"../../shared/hooks/form-hook\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\n\r\nimport './PostForm.css';\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\n\r\nconst UpdatePost = () => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [loadedPost, setLoadedPost] = useState();\r\n    const postId = useParams().postId;\r\n    const auth = useContext(AuthContext)\r\n    const history = useHistory();\r\n\r\n    const [formState, inputHandler, setFormData] = useForm({\r\n        title: {\r\n            value: '',\r\n            isValid: true\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: true\r\n        },\r\n        image: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n    }, true)\r\n\r\n    const placeUpdateSubmitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/posts/${postId}`,\r\n                'PATCH',\r\n                JSON.stringify({\r\n                    title: formState.inputs.title.value,\r\n                    description : formState.inputs.description.value,\r\n                    image: formState.inputs.image.value,\r\n                }),\r\n                {'Content-Type': 'application/json',\r\n                Authorization: 'Bearer ' + auth.token}\r\n            )\r\n            history.push('/' + auth.userId + '/posts');\r\n        }catch (e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchPost = async() => {\r\n            try {\r\n                const data = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/posts/post/${postId}`);\r\n                setLoadedPost(data.post)\r\n\r\n                setFormData(\r\n                    {\r\n                        title: {\r\n                            value: data.post.title,\r\n                            isValid: true\r\n                        },\r\n                        description: {\r\n                            value: data.post.description,\r\n                            isValid: true\r\n                        }\r\n                    },true)\r\n            }\r\n            catch (e) {\r\n\r\n            }\r\n        }\r\n        fetchPost();\r\n    },[setFormData, postId, sendRequest])\r\n\r\n\r\n    if(isLoading) {\r\n        return <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>\r\n    }\r\n\r\n    if(!loadedPost && !error){\r\n        return <div className=\"center\">\r\n            <Card>\r\n                <h2>Couldn't fetch post</h2>\r\n            </Card>\r\n        </div>\r\n    }\r\n\r\n\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        {!isLoading && loadedPost && <form className='place-form' onSubmit={placeUpdateSubmitHandler}>\r\n            <Input\r\n                id=\"title\"\r\n                element='input'\r\n                type='text'\r\n                label='Title'\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedPost.title}\r\n                initialIsValid={true}\r\n                errorText=\"Please enter a valid title\"/>\r\n\r\n            <Input\r\n                id=\"description\"\r\n                element='textarea'\r\n                label='Description'\r\n                validators={[VALIDATOR_MINLENGTH(5)]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedPost.description}\r\n                initialIsValid={true}\r\n                errorText=\"Please enter a valid description.\"/>\r\n\r\n            <Input\r\n                id=\"image\"\r\n                element='input'\r\n                label='Image'\r\n                validators={[]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedPost.image}\r\n                errorText=\"Please enter a url\"/>\r\n\r\n            <Button type=\"submit\" disabled={!formState.isValid}>UPDATE PLACE</Button>\r\n        </form>}\r\n    </React.Fragment>\r\n\r\n}\r\n\r\nexport default UpdatePost;","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport {VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../shared/components/Utils/validators\";\r\nimport {useForm} from \"../../shared/hooks/form-hook\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\n\r\nimport '../../posts/pages/PostForm.css';\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\n\r\nconst UpdateUser = () => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [loadedUser, setLoadedUser] = useState();\r\n    const userId = useParams().userId;\r\n    const auth = useContext(AuthContext)\r\n    const history = useHistory();\r\n\r\n    const [formState, inputHandler, setFormData] = useForm({\r\n        email: {\r\n            value: '',\r\n            isValid: true\r\n        },\r\n        name: {\r\n            value: '',\r\n            isValid: true\r\n        }\r\n    }, true)\r\n\r\n    const placeUpdateSubmitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/${userId}`,\r\n                'PATCH',\r\n                JSON.stringify({\r\n                    email: formState.inputs.email.value,\r\n                    name : formState.inputs.name.value,\r\n                }),\r\n                {'Content-Type': 'application/json',\r\n                    Authorization: 'Bearer ' + auth.token}\r\n            )\r\n            history.push('/users/' + auth.userId);\r\n        }catch (e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchUser = async() => {\r\n            try {\r\n                const data = await  sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/${auth.userId}`,\r\n                    'GET',\r\n                    null,\r\n                    {Authorization: 'Bearer ' + auth.token});\r\n                setLoadedUser(data.user);\r\n\r\n                setFormData(\r\n                    {\r\n                        email: {\r\n                            value: data.user.email,\r\n                            isValid: true\r\n                        },\r\n                        name: {\r\n                            value: data.user.name,\r\n                            isValid: true\r\n                        }\r\n                    },true)\r\n            }\r\n            catch (e) {\r\n\r\n            }\r\n        }\r\n        fetchUser();\r\n    },[setFormData, userId, sendRequest])\r\n\r\n\r\n    if(isLoading) {\r\n        return <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>\r\n    }\r\n\r\n    if(!loadedUser && !error){\r\n        return <div className=\"center\">\r\n            <Card>\r\n                <h2>Couldn't fetch user</h2>\r\n            </Card>\r\n        </div>\r\n    }\r\n\r\n\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        {!isLoading && loadedUser && <form className='place-form' onSubmit={placeUpdateSubmitHandler}>\r\n            <Input\r\n                id=\"email\"\r\n                element='input'\r\n                type='text'\r\n                label='Email'\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedUser.email}\r\n                initialIsValid={true}\r\n                errorText=\"Please enter a valid email\"/>\r\n\r\n            <Input\r\n                id=\"name\"\r\n                element='textarea'\r\n                label='Name'\r\n                validators={[VALIDATOR_MINLENGTH(5)]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedUser.name}\r\n                initialIsValid={true}\r\n                errorText=\"Please enter a valid name.\"/>\r\n\r\n            <Button type=\"submit\" disabled={!formState.isValid}>UPDATE USER</Button>\r\n        </form>}\r\n    </React.Fragment>\r\n\r\n}\r\n\r\nexport default UpdateUser;","import React, {useContext} from \"react\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\nimport {VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../shared/components/Utils/validators\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\n\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport {useForm} from \"../../shared/hooks/form-hook\";\r\nimport './PostForm.css';\r\n\r\nconst NewAdminPost = () => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const auth = useContext(AuthContext)\r\n\r\n    const [formState, inputChangeHandler] = useForm({\r\n        title: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n    },false)\r\n\r\n    const history = useHistory();\r\n\r\n    const placeSubmitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/admin/post`,\r\n                'POST',\r\n                JSON.stringify({\r\n                    title: formState.inputs.title.value,\r\n                    description : formState.inputs.description.value,\r\n                }),\r\n                {'Content-Type': 'application/json',\r\n                    Authorization: 'Bearer ' + auth.token}\r\n            )\r\n            history.push('/'); // redirect\r\n        }catch (e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        <form className=\"place-form\" onSubmit={placeSubmitHandler}>\r\n            {isLoading && <LoadingSpinner asOverlay/>}\r\n            <Input\r\n                id=\"title\"\r\n                element='input'\r\n                type='text'\r\n                label='Title'\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                onInput={inputChangeHandler}\r\n                errorText=\"Please enter a valid title\"/>\r\n\r\n            <Input\r\n                id=\"description\"\r\n                element='textarea'\r\n                label='Description'\r\n                validators={[VALIDATOR_MINLENGTH(5)]}\r\n                onInput={inputChangeHandler}\r\n                errorText=\"Please enter a valid description.\"/>\r\n\r\n            <Button type=\"submit\" disabled={!formState.isValid}>ADD POST</Button>\r\n        </form>\r\n    </React.Fragment>\r\n\r\n};\r\n\r\nexport default NewAdminPost;","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport {VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../shared/components/Utils/validators\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport {useForm} from \"../../shared/hooks/form-hook\";\r\n\r\nimport './PostForm.css';\r\nconst UpdateAdminPost = () => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [loadedPost, setLoadedPost] = useState();\r\n    const postId = useParams().postId;\r\n    const auth = useContext(AuthContext)\r\n    const history = useHistory();\r\n\r\n    const [formState, inputHandler, setFormData] = useForm({\r\n        title: {\r\n            value: '',\r\n            isValid: true\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: true\r\n        }\r\n    }, true)\r\n\r\n    const placeUpdateSubmitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/admin/post/${postId}`,\r\n                'PATCH',\r\n                JSON.stringify({\r\n                    title: formState.inputs.title.value,\r\n                    description : formState.inputs.description.value,\r\n                }),\r\n                {'Content-Type': 'application/json',\r\n                    Authorization: 'Bearer ' + auth.token}\r\n            )\r\n            history.push('/');\r\n        }catch (e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchPost = async() => {\r\n            try {\r\n                const data = await sendRequest(\r\n                    `${process.env.REACT_APP_BACKEND_URL}/admin/post`);\r\n                setLoadedPost(data.posts[0])\r\n\r\n                setFormData(\r\n                    {\r\n                        title: {\r\n                            value: data.posts[0].title,\r\n                            isValid: true\r\n                        },\r\n                        description: {\r\n                            value: data.posts[0].description,\r\n                            isValid: true\r\n                        }\r\n                    },true)\r\n            }\r\n            catch (e) {\r\n\r\n            }\r\n        }\r\n        fetchPost();\r\n    },[setFormData, postId, sendRequest])\r\n\r\n\r\n    if(isLoading) {\r\n        return <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>\r\n    }\r\n\r\n    if(!loadedPost && !error){\r\n        return <div className=\"center\">\r\n            <Card>\r\n                <h2>Couldn't fetch post</h2>\r\n            </Card>\r\n        </div>\r\n    }\r\n\r\n\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        {!isLoading && loadedPost && <form className='place-form' onSubmit={placeUpdateSubmitHandler}>\r\n            <Input\r\n                id=\"title\"\r\n                element='input'\r\n                type='text'\r\n                label='Title'\r\n                validators={[VALIDATOR_REQUIRE()]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedPost.title}\r\n                initialIsValid={true}\r\n                errorText=\"Please enter a valid title\"/>\r\n\r\n            <Input\r\n                id=\"description\"\r\n                element='textarea'\r\n                label='Description'\r\n                validators={[VALIDATOR_MINLENGTH(5)]}\r\n                onInput={inputHandler}\r\n                initialValue={loadedPost.description}\r\n                initialIsValid={true}\r\n                errorText=\"Please enter a valid description.\"/>\r\n\r\n            <Button type=\"submit\" disabled={!formState.isValid}>UPDATE POST</Button>\r\n        </form>}\r\n    </React.Fragment>\r\n\r\n}\r\n\r\nexport default UpdateAdminPost;","import React, {useState, useContext} from \"react\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport {useForm} from \"../../shared/hooks/form-hook\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport './Auth.css';\r\nimport {\r\n    VALIDATOR_EMAIL,\r\n    VALIDATOR_MINLENGTH,\r\n    VALIDATOR_REQUIRE\r\n} from \"../../shared/components/Utils/validators\";\r\nconst Auth = props => {\r\n    const auth = useContext(AuthContext);\r\n    const [isLogin, setIsLogin] = useState(true);\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n\r\n   const[formState, inputHandler, setFormData] = useForm({\r\n        email: {\r\n            value: '',\r\n            isValid: false\r\n        },\r\n        password: {\r\n            value: '',\r\n            isValid: false\r\n        }\r\n    }, false)\r\n\r\n\r\n    const authSubmitHandler = async event => {\r\n       event.preventDefault();\r\n\r\n       if(isLogin) {\r\n           try {\r\n               const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/login`,\r\n                   'POST',\r\n                   JSON.stringify({\r\n                       email: formState.inputs.email.value,\r\n                       password: formState.inputs.password.value,\r\n                   }),\r\n                   {\r\n                       'Content-Type': 'application/json'\r\n                   }\r\n                   );\r\n\r\n               auth.login(data.userId, data.token, data.isAdmin);\r\n           } catch (e) {\r\n\r\n           }\r\n       }else {\r\n           try {\r\n                const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/signup`,\r\n                        'POST',\r\n                        JSON.stringify({\r\n                            name: formState.inputs.name.value,\r\n                            email: formState.inputs.email.value,\r\n                            password: formState.inputs.password.value,\r\n                        }),\r\n                          {\r\n                               'Content-Type': 'application/json'\r\n                           }\r\n                )\r\n               auth.login(data.userId, data.token, data.isAdmin);\r\n           }catch (e) {\r\n           }\r\n\r\n       }\r\n\r\n    };\r\n\r\n   const switchSignInHandler = event => {\r\n        if(!isLogin) {\r\n            setFormData({\r\n                ...formState.inputs,\r\n                    name: undefined\r\n                },\r\n                formState.inputs.email.isValid &&\r\n                formState.inputs.password.isValid)\r\n        }else {\r\n            setFormData({\r\n                ...formState.inputs,\r\n                name: {\r\n                    value: '',\r\n                    isValid: false\r\n                }\r\n            },false)\r\n        }\r\n\r\n        setIsLogin(prevMode=> !prevMode);\r\n   }\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        <Card className=\"authentication\">\r\n            {isLoading && <LoadingSpinner asOverlay={true}/>}\r\n            <h2> {isLogin ? 'LOGIN' : 'SIGN-UP'}</h2>\r\n            <hr/>\r\n            <form onSubmit={authSubmitHandler}>\r\n                {!isLogin &&\r\n                <Input\r\n                    id=\"name\"\r\n                    element='input'\r\n                    type='text'\r\n                    label='Full Name'\r\n                    validators={[VALIDATOR_REQUIRE()]}\r\n                    onInput={inputHandler}\r\n                    errorText=\"Please enter full name.\"/>\r\n                }\r\n                <Input\r\n                    id=\"email\"\r\n                    element='input'\r\n                    type='email'\r\n                    label='Email'\r\n                    validators={[VALIDATOR_EMAIL()]}\r\n                    onInput={inputHandler}\r\n                    errorText=\"Please enter a valid email.\"/>\r\n\r\n                <Input\r\n                    id=\"password\"\r\n                    element='input'\r\n                    type='password'\r\n                    label='Password'\r\n                    validators={[VALIDATOR_MINLENGTH(6)]}\r\n                    onInput={inputHandler}\r\n                    errorText=\"Please enter a valid password, at least 6 characters.\"/>\r\n                <Button\r\n                    type=\"submit\"\r\n                    disabled={!formState.isValid}>\r\n                    {isLogin ? 'LOGIN' : 'SIGN-UP'}\r\n                </Button>\r\n            </form>\r\n            <Button\r\n                inverse\r\n                onClick={switchSignInHandler}>\r\n                {isLogin ? 'SWITCH TO SIGN-UP' : 'SWITCH TO LOGIN'}\r\n            </Button>\r\n        </Card>\r\n    </React.Fragment>\r\n\r\n\r\n}\r\n\r\nexport default Auth;","import React from \"react\";\r\n\r\nimport './MainHeader.css';\r\n\r\nconst MainHeader = props => {\r\n    return <header className='main-header'>\r\n            {props.children}\r\n    </header>;\r\n}\r\n\r\nexport default MainHeader;","import React, {useContext} from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {AuthContext} from \"../../context/auth-context\";\r\n\r\nimport './NavLinks.css'\r\n\r\nconst NavLinks = props => {\r\n    const auth = useContext(AuthContext);\r\n\r\n    return <ul className=\"nav-links\">\r\n        <li>\r\n            <NavLink to=\"/review\" exact>CONTACT US</NavLink>\r\n        </li>\r\n        <li>\r\n            <NavLink to=\"/\" exact>ALL POSTS</NavLink>\r\n        </li>\r\n        {auth.isLoggedIn && auth.isAdmin &&\r\n        <li>\r\n            <NavLink to={`/users`}>All USERS</NavLink>\r\n        </li>\r\n        }\r\n        {auth.isLoggedIn &&\r\n        <li>\r\n            <NavLink to=\"/stats\">METRICS</NavLink>\r\n        </li>\r\n        }\r\n        {auth.isLoggedIn &&\r\n        <li>\r\n            <NavLink to={`/users/${auth.userId}`}>MY PROFILE</NavLink>\r\n        </li>\r\n        }\r\n        {auth.isLoggedIn &&\r\n        <li>\r\n            <NavLink to={`/${auth.userId}/posts`}>MY POSTS</NavLink>\r\n        </li>\r\n        }\r\n        {auth.isLoggedIn && !auth.isAdmin &&\r\n        <li>\r\n            <NavLink to=\"/posts/new\">ADD POST</NavLink>\r\n        </li>\r\n        }\r\n        {auth.isLoggedIn && auth.isAdmin &&\r\n        <li>\r\n            <NavLink to=\"/posts/new\">ADMIN POST</NavLink>\r\n        </li>\r\n        }\r\n        {auth.isLoggedIn &&\r\n        <li>\r\n            <button onClick={auth.logout}>LOGOUT</button>\r\n        </li>\r\n        }\r\n        {!auth.isLoggedIn &&\r\n        <li>\r\n            <NavLink to=\"/auth\">LOGIN</NavLink>\r\n        </li>\r\n        }\r\n\r\n    </ul>\r\n}\r\n\r\nexport default NavLinks;","import React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\nimport {CSSTransition} from \"react-transition-group\";\r\n\r\nimport './SideDrawer.css'\r\n\r\n\r\nconst SideDrawer = props => {\r\n    const content =  (\r\n        <CSSTransition\r\n            in={props.show}\r\n            timeout={200}\r\n            classNames=\"slide-in-left\"\r\n            mountOnEnter\r\n            unmountOnExit>\r\n            <aside\r\n                className='side-drawer'\r\n                onClick={props.onClick}>\r\n                {props.children}\r\n            </aside>\r\n        </CSSTransition>\r\n    )\r\n\r\n    return ReactDOM.createPortal(content, document.getElementById(\"drawer-hook\"));\r\n}\r\n\r\nexport default SideDrawer;","import React, {useState} from \"react\";\r\nimport MainHeader from \"./MainHeader\";\r\nimport {Link} from \"react-router-dom\";\r\nimport NavLinks from \"./NavLinks\";\r\nimport SideDrawer from \"./SideDrawer\";\r\nimport Backdrop from \"../UIElements/Backdrop/Backdrop\";\r\nimport HoneIcon from '../../../assets/home.png';\r\nimport './MainNavigation.css';\r\n\r\n\r\nconst MainNavigation = props => {\r\n    const [drawerIsOpen, setDrawerIsOpen] = useState(false);\r\n    const openDrawer = () => {\r\n        setDrawerIsOpen(true);\r\n    }\r\n\r\n    const closeDrawer = () => {\r\n        setDrawerIsOpen(false);\r\n    }\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {drawerIsOpen && <Backdrop onClick={closeDrawer}/>}\r\n       <SideDrawer show={drawerIsOpen} onClick={closeDrawer}>\r\n                <nav className = 'main-navigation-drawer-nav'>\r\n                    <NavLinks/>\r\n                </nav>\r\n            </SideDrawer>\r\n            <MainHeader>\r\n                <button className = \"main-navigation-menu-btn\"\r\n                        onClick = {openDrawer}>\r\n                    <span/>\r\n                    <span/>\r\n                    <span/>\r\n                </button>\r\n                <h1 className = \"main-navigation-title\">\r\n                    <Link to = \"/\">\r\n                        <img src = {HoneIcon} alt={\"home\"}/>\r\n                    </Link>\r\n                </h1>\r\n                <nav className = \"main-navigation-header-nav\">\r\n                    <NavLinks/>\r\n                </nav>\r\n            </MainHeader>\r\n        </React.Fragment>\r\n\r\n        )\r\n\r\n\r\n}\r\n\r\nexport default MainNavigation;","import React from \"react\";\r\nimport UsersItem from \"./UsersItem\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\nimport './UsersList.css';\r\n\r\nconst UsersList = props => {\r\n    if(props.items.length === 0) {\r\n        return <div className='center'>\r\n            <Card>\r\n                <h2>No users found.</h2>\r\n            </Card>\r\n        </div>\r\n    }\r\n\r\n    return <ul className=\"users-list\">\r\n        {props.items.map(user => {\r\n            return <UsersItem\r\n                key={user.id}\r\n                id={user.id}\r\n                image={user.image}\r\n                name={user.name}\r\n                email={user.email}\r\n                postCount={user.posts.length}/>\r\n        })}\r\n    </ul>\r\n}\r\n\r\nexport default UsersList","import React, { useEffect, useState, useContext } from \"react\";\r\nimport UsersList from \"../components/UsersList\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\n\r\nconst Users = () => {\r\n  const auth = useContext(AuthContext);\r\n  const [loadedUsers, setLoadedUsers] = useState([]);\r\n  const [titleSearch, setTitleSearch] = useState(\"\");\r\n  const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const data = await sendRequest(\r\n          `${process.env.REACT_APP_BACKEND_URL}/users`,\r\n          \"GET\",\r\n          null,\r\n          { Authorization: \"Bearer \" + auth.token }\r\n        );\r\n        setLoadedUsers(data.users.filter((u) => u.id !== auth.userId));\r\n      } catch (e) {}\r\n    };\r\n    fetchUsers();\r\n  }, [sendRequest]);\r\n\r\n  const inputChangeHandler = (event) => {\r\n    console.log(\"change \", event.target.value);\r\n    setTitleSearch(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <ErrorModal error={error} onClear={clearError} />\r\n      {isLoading && (\r\n        <div className=\"center\">\r\n          <LoadingSpinner />\r\n        </div>\r\n      )}\r\n      {!isLoading && loadedUsers && (\r\n        <UsersList\r\n          items={loadedUsers.filter((u) => {\r\n            if (titleSearch) {\r\n              return u.name.includes(titleSearch);\r\n            } else {\r\n              return u;\r\n            }\r\n          })}\r\n        />\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import {useForm} from \"../../shared/hooks/form-hook\";\r\nimport React from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport ErrorModal from \"../../shared/components/UIElements/Error/ErrorModal\";\r\nimport Button from \"../../shared/components/FormElements/Button\";\r\nimport '../../posts/pages/PostForm.css';\r\nimport {VALIDATOR_MINLENGTH, VALIDATOR_REQUIRE} from \"../../shared/components/Utils/validators\";\r\nimport Input from \"../../shared/components/FormElements/Input/Input\";\r\n\r\nconst Review = () => {\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const history = useHistory();\r\n\r\n    const [formState, inputHandler, setFormData] = useForm({\r\n        name: {\r\n            value: '',\r\n            isValid: true\r\n        },\r\n        description: {\r\n            value: '',\r\n            isValid: true\r\n        }\r\n    }, true)\r\n\r\n    const reviewSubmitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            window.open(`mailto:test@example.com?subject=subject&body=${\r\n                ' Name: ' + formState.inputs.name.value + ' Topic: ' +\r\n                formState.inputs.description.value\r\n            }`);\r\n            history.push('/');\r\n        }catch (e) {\r\n\r\n        }\r\n\r\n    }\r\n\r\n    if(isLoading) {\r\n        return <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>\r\n    }\r\n\r\n    return <React.Fragment>\r\n        <ErrorModal error={error} onClear={clearError}/>\r\n        {!isLoading && <form className='place-form' onSubmit={reviewSubmitHandler}>\r\n            <Input\r\n                id=\"name\"\r\n                element='input'\r\n                label='Name'\r\n                validators={[VALIDATOR_MINLENGTH(5)]}\r\n                onInput={inputHandler}\r\n                errorText=\"Please enter a valid name.\"/>\r\n\r\n            <Input\r\n                id=\"description\"\r\n                element='textarea'\r\n                label='Description'\r\n                validators={[VALIDATOR_MINLENGTH(15)]}\r\n                onInput={inputHandler}\r\n                errorText=\"Please enter description at least 15 characters.\"/>\r\n\r\n            <Button type=\"submit\" disabled={!formState.isValid}>SEND REVIEW</Button>\r\n        </form>}\r\n    </React.Fragment>\r\n\r\n}\r\n\r\nexport default Review;","import React, {useContext, useEffect, useState} from \"react\";\r\nimport LoadingSpinner from \"../../shared/components/UIElements/Loading/LoadingSpinner\";\r\nimport {useHttpClient} from \"../../shared/hooks/http-hook\";\r\nimport {AuthContext} from \"../../shared/context/auth-context\";\r\nimport Card from \"../../shared/components/UIElements/Card/Card\";\r\n\r\nconst Stats = props => {\r\n    const auth = useContext(AuthContext);\r\n    const {isLoading, error, sendRequest, clearError} = useHttpClient();\r\n    const [loadedPosts, setLoadedPosts] = useState({});\r\n    const [loadedUsers, setLoadedUsers] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchAdminPost = async () => {\r\n            try {\r\n                const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/users/stats`,\r\n                'GET',\r\n                null,\r\n                {'Content-Type': 'application/json',\r\n                Authorization: 'Bearer ' + auth.token});\r\n                setLoadedUsers(data.userRating)\r\n            }catch (e) {\r\n\r\n            }\r\n\r\n        }\r\n        fetchAdminPost();\r\n    }, [sendRequest])\r\n\r\n    useEffect(() => {\r\n        const fetchPosts= async () => {\r\n            try {\r\n                const data = await sendRequest(`${process.env.REACT_APP_BACKEND_URL}/posts/stats`,\r\n                'GET',\r\n                null,\r\n                {'Content-Type': 'application/json',\r\n                Authorization: 'Bearer ' + auth.token});\r\n                setLoadedPosts(data)\r\n            }catch (e) {\r\n\r\n            }\r\n\r\n        }\r\n        fetchPosts();\r\n    }, [sendRequest])\r\n\r\n    \r\n    return <React.Fragment>\r\n        {isLoading && <div className=\"center\">\r\n            <LoadingSpinner/>\r\n        </div>}\r\n\r\n       \r\n        {!isLoading && loadedPosts && loadedUsers &&\r\n        <div className={\"stats-page\"}>\r\n            <div className={'stats-item'}>\r\n                <Card>\r\n                    <div>Post By Category</div>\r\n                    <ul className=\"app-news-list\">\r\n                        <li key={loadedPosts.sport}>\r\n                            <span>Sport:</span>\r\n                            <span>{loadedPosts.sport}</span>\r\n                        </li>\r\n                        <li key={loadedPosts.politic}>\r\n                            <span>Politic :</span>\r\n                            <span>{loadedPosts.politic}</span>\r\n                        </li>\r\n                        <li key={loadedPosts.economic}>\r\n                            <span>Economic:</span>\r\n                            <span>{loadedPosts.economic}</span>\r\n                        </li>\r\n                        <li key={loadedPosts.culture}>\r\n                            <span>Culture:</span>\r\n                            <span>{loadedPosts.culture}</span>\r\n                        </li>\r\n                    </ul>\r\n                </Card>\r\n            </div>\r\n\r\n            <div className={'stats-item'}>\r\n                <Card>\r\n                    <div>Users Posts</div>\r\n                    <ul className=\"app-news-list\">\r\n                        {loadedUsers.map(o => {\r\n                            return <li key={o}>\r\n                                <span>{o.name}</span>\r\n                                <span>{o.posts} Posts</span>\r\n                            </li>\r\n                        }) }\r\n                    </ul>\r\n                </Card>\r\n            </div>\r\n        </div>\r\n        }\r\n\r\n    </React.Fragment>\r\n\r\n}\r\n\r\nexport default Stats;","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n} from \"react-router-dom\";\r\nimport {AuthContext} from \"./shared/context/auth-context\";\r\nimport {useAuth} from \"./shared/hooks/auth-hook\";\r\nimport AllPosts from \"./posts/pages/AllPosts\";\r\nimport Profile from \"./users/pages/Profile\";\r\nimport UserPosts from \"./posts/pages/UserPosts\";\r\nimport NewPost from \"./posts/pages/NewPost\";\r\nimport UpdatePost from \"./posts/pages/UpdatePost\";\r\nimport UpdateUser from \"./users/pages/UpdateUser\";\r\nimport NewAdminPost from \"./posts/pages/NewAdminPost\";\r\nimport UpdateAdminPost from \"./posts/pages/UpdateAdminPost\";\r\nimport Auth from \"./users/pages/Auth\";\r\nimport MainNavigation from \"./shared/components/navigation/MainNavigation\";\r\nimport Users from \"./users/pages/Users\";\r\nimport Review from \"./users/pages/Review\";\r\nimport ReactWeather, { useOpenWeather } from 'react-open-weather';\r\nimport Stats from \"./posts/pages/Stats\";\r\n\r\nconst App = () => {\r\n  const { token, login, logout, userId, isAdmin } = useAuth();\r\n\r\n  let routes;\r\n\r\n  if (token && !isAdmin) {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact={true}>\r\n          <AllPosts />\r\n        </Route>\r\n\r\n        <Route path=\"/users/:userId\">\r\n          <Profile />\r\n        </Route>\r\n\r\n        <Route path=\"/:userId/posts\">\r\n          <UserPosts />\r\n        </Route>\r\n\r\n        <Route path=\"/posts/new\" exact={true}>\r\n          <NewPost />\r\n        </Route>\r\n\r\n        <Route path=\"/posts/:postId\" exact={true}>\r\n          <UpdatePost />\r\n        </Route>\r\n\r\n        <Route path=\"/update/:userId\">\r\n          <UpdateUser />\r\n        </Route>\r\n\r\n        <Route path=\"/review\" exact={true}>\r\n          <Review />\r\n        </Route>\r\n\r\n          <Route path=\"/stats\" exact={true}>\r\n              <Stats />\r\n          </Route>\r\n\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    );\r\n  } else if (token && isAdmin) {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact={true}>\r\n          <AllPosts />\r\n        </Route>\r\n\r\n        <Route path=\"/users\" exact={true}>\r\n            <Users/>\r\n        </Route>\r\n\r\n        <Route path=\"/users/:userId\">\r\n          <Profile />\r\n        </Route>\r\n\r\n        <Route path=\"/:userId/posts\">\r\n          <UserPosts />\r\n        </Route>\r\n\r\n        <Route path=\"/posts/new\" exact={true}>\r\n          <NewAdminPost />\r\n        </Route>\r\n\r\n        <Route path=\"/posts/:postId\" exact={true}>\r\n          <UpdateAdminPost />\r\n        </Route>\r\n\r\n        <Route path=\"/review\" exact={true}>\r\n          <Review />\r\n        </Route>\r\n\r\n          <Route path=\"/stats\" exact={true}>\r\n              <Stats />\r\n          </Route>\r\n\r\n        <Redirect to=\"/\" />\r\n      </Switch>\r\n    );\r\n  } else {\r\n    routes = (\r\n      <Switch>\r\n        <Route path=\"/\" exact={true}>\r\n          <AllPosts />\r\n        </Route>\r\n\r\n        <Route path=\"/:userId/posts\">\r\n            <UserPosts />\r\n        </Route>\r\n\r\n        <Route path=\"/auth\" exact={true}>\r\n          <Auth />\r\n        </Route>\r\n\r\n        <Route path=\"/review\" exact={true}>\r\n          <Review />\r\n        </Route>\r\n\r\n        <Redirect to=\"/auth\" />\r\n      </Switch>\r\n    );\r\n  }\r\n    const { data, isLoading, errorMessage } = useOpenWeather({\r\n        key: '2cfd91ccaa7cba171f67648224f8fd26',\r\n        lat: '31.0461',\r\n        lon: '34.8516',\r\n        lang: 'en',\r\n        unit: 'metric', // values are (metric, standard, imperial)\r\n    });\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        isLoggedIn: !!token,\r\n        token: token,\r\n        userId,\r\n        isAdmin,\r\n        login,\r\n        logout,\r\n      }}\r\n    >\r\n      <Router>\r\n        <MainNavigation />\r\n        <main>{routes}</main>\r\n      <footer className={'weather'}>\r\n          <ReactWeather\r\n              isLoading={isLoading}\r\n              errorMessage={errorMessage}\r\n              data={data}\r\n              lang=\"en\"\r\n              locationLabel=\"Israel\"\r\n              unitsLabels={{ temperature: 'C', windSpeed: 'Km/h' }}\r\n              showForecast\r\n          />\r\n      </footer>\r\n      </Router>\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}